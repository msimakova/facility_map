
<!DOCTYPE html>
<html>
<head>
    <title>Healthcare Facilities Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        #map {
            height: 100vh;
            width: 100%;
        }
        .facility-marker {
            font-size: 24px;
            text-align: center;
            border-radius: 50%;
            background: white;
            border: 2px solid white;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        .facility-popup {
            font-size: 14px;
            max-width: 400px;
        }
        .facility-header {
            margin: 0 0 10px 0;
            color: #2c3e50;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
        }
        .facility-details {
            max-height: 300px;
            overflow-y: auto;
        }
        .facility-item {
            padding: 12px;
            margin-bottom: 8px;
            background: #f9f9f9;
            border-left: 4px solid #007bff;
            border-radius: 4px;
        }
        .facility-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        .facility-info {
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }
        .company-title {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            border: 2px solid #007bff;
        }
        .stats-overlay {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
            font-size: 14px;
            color: #2c3e50;
            border: 2px solid #007bff;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    
    <!-- Company Title -->
    <div class="company-title">
        üè• Facilities Map
    </div>
    
    <!-- Stats Overlay -->
    <div class="stats-overlay">
        <strong>üìä Overview</strong><br>
        ‚Ä¢ Total Facilities: <strong>91</strong><br>
        ‚Ä¢ Locations Mapped: <strong>91</strong>
    </div>
    
    <script>
        // Embedded data
        const facilitiesData = [{"id": "6", "name": "Cl√≠nica Sagrada Familia", "latitude": 41.4008, "longitude": 2.13459, "address": "Carrer de Torras i Pujalt, 1, 08022", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "7", "name": "Hospital de Barcelona", "latitude": 41.38989, "longitude": 2.13007, "address": "Av. Diagonal, 660, 08034", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "8", "name": "Cl√≠nica Nostra Senyora del Remei", "latitude": 41.4098, "longitude": 2.15967, "address": "C/ de l'Escorial, 148, 08024", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "9", "name": "Cl√≠nica Mi Tres Torres", "latitude": 41.3994, "longitude": 2.12895, "address": "Carrer del Dr. Roux, 76, 08017", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "12", "name": "Hospital El Pilar", "latitude": 41.401, "longitude": 2.14811, "address": "C/ de Balmes, 271, 08006", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "13", "name": "Centro M√©dico Teknon", "latitude": 41.4073, "longitude": 2.12739, "address": "Carrer de Vilana, 12, 08022", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "14", "name": "HLA Cl√≠nica Internacional Barcelona", "latitude": 41.4014, "longitude": 2.12538, "address": "Carrer d'Angl√≠, 38, 08017", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "15", "name": "Hospital Quir√≥nsalud Barcelona", "latitude": 41.4159, "longitude": 2.13856, "address": "Pla√ßa d'Alfonso Com√≠n, 5, 08023", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "16", "name": "Cl√≠nica Sant Antoni", "latitude": 41.3562, "longitude": 2.14331, "address": "C/ de Sant Eloi, 6, 8, 08038", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "17", "name": "Fundaci√≥ Puigvert", "latitude": 41.413, "longitude": 2.17248, "address": "C. de Cartagena, 340, 350, 08025", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "18", "name": "Hospital HM Nens", "latitude": 41.3975, "longitude": 2.17378, "address": "C/ del Consell de Cent, 437, 08009", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "19", "name": "Hospital HM Nou Delfos", "latitude": 41.4135, "longitude": 2.1425, "address": "Av. de Vallcarca, 151, 08023", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "21", "name": "Uros Associats | Cl√≠nica Sagrada Fam√≠lia", "latitude": 41.4001, "longitude": 2.13442, "address": "Carrer de Torras i Pujalt, 11, Edifici Consultoris, Despatx 2.9", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "22", "name": "Uros Associats | Teknon", "latitude": 41.4058, "longitude": 2.12715, "address": "Carrer de la Marquesa de Vilallonga, 12, Edifici Marquesa, Consultori, 13", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "23", "name": "Hospital Universitari Dexeus", "latitude": 41.3851, "longitude": 2.12568, "address": "Carrer de Sabino Arana, 19 Ed", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "25", "name": "Hospital Universitario de Torrej√≥n", "latitude": 41.4787, "longitude": -3.43526, "address": "C. Mateo Inurria, 28850 Torrej√≥n de Ardoz", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "27", "name": "üö® Turno Urgente", "latitude": 41.3874, "longitude": 2.1686, "address": "Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "30", "name": "Cl√≠nica CEMTRO", "latitude": 40.494, "longitude": -3.71705, "address": "Av. del Ventisquero de la Condesa, 42, Fuencarral-El Pardo, 28035 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "32", "name": "H. U. San Francisco de Asis", "latitude": 40.442517, "longitude": -3.683065, "address": "C. de Joaqu√≠n Costa, 28, Chamart√≠n, 28002 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "38", "name": "Intem - Hospital del Mar", "latitude": 41.3841, "longitude": 2.19403, "address": "Pg Mar√≠tim de la Barceloneta, 25, 29, 08003 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "47", "name": "Hospital Los Madro√±os", "latitude": 40.399, "longitude": -3.999, "address": "M-501, Km 17, 900, 28690 Brunete, Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "49", "name": "Clinica ServiDigest", "latitude": 41.403, "longitude": 2.144, "address": "C/ de Balmes, 334, Sarri√†-Sant Gervasi, 08006 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "50", "name": "PrevenJobs Terrassa", "latitude": 41.571, "longitude": 2.01, "address": "Pg. de les Lletres, n¬∫ 11, 08221 Terrassa, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "53", "name": "Hospital de d√≠a MUTUAM G√ºell", "latitude": 41.412, "longitude": 2.157, "address": "C. de la Mare de D√©u de la Salut, 49, Gr√†cia, 08024 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "55", "name": "Residencia Mol√≠-Via Fav√®ncia Mutuam", "latitude": 41.446, "longitude": 2.182, "address": "Carrer del Mol√≠, 67, Nou Barris, 08016 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "56", "name": "HLA Hospital Universitario Moncloa", "latitude": 40.433, "longitude": -3.734, "address": " Av. de Valladolid, 83, Moncloa - Aravaca, 28008 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "57", "name": "Clinica Lluria ", "latitude": 41.393, "longitude": 2.16, "address": "Ptge. de Mercader, 14, L'Eixample, 08008 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "58", "name": "Hospital Universitario San Rafael", "latitude": 40.453, "longitude": -3.682, "address": "C. de Serrano, 199, Chamart√≠n, 28016 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "59", "name": "Hospital Quir√≥nsalud Badalona", "latitude": 41.462, "longitude": 2.251, "address": "Carrer de la Seu d'Urgell, 77, 08911 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "60", "name": "Fundaci√≥n Hospitalarias Benito Menni - Complejo Assist.", "latitude": 40.157, "longitude": -3.619, "address": "C. Jardines, 1, 28350 Ciempozuelos, Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "64", "name": "Diaverum Badalona", "latitude": 41.46, "longitude": 2.255, "address": "Carrer de la Cer√†mica, 13, 08915 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "66", "name": "Fundaci√≥n Instituto San Jos√©", "latitude": 40.363, "longitude": -3.772, "address": "Avenida de la Hospitalidad s/n 28054", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "67", "name": "Hospital Quir√≥nsalud Valle del Henares", "latitude": 40.465, "longitude": -3.441, "address": "Av. de la Constituci√≥n, 249, 28850 Torrej√≥n de Ardoz, Madrid, Espa√±a", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "68", "name": "Hospital Ruber Juan Bravo 49", "latitude": 40.438, "longitude": -3.677, "address": " Calle de Juan Bravo, 49, Salamanca, 28006 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "69", "name": "Hospital Sant Jaume de Calella", "latitude": 41.615, "longitude": 2.657, "address": "Carrer de Sant Jaume, 209, 217, 08370 Calella, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "73", "name": "Grupo Vivo - UNIDAD MOVIL PET TAC- Granollers", "latitude": 41.6078, "longitude": 2.2875, "address": " Carrer de Francesc Ribas, s/n, 08402 Granollers, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "74", "name": "Residencia y Centro de D√≠a MUTUAM Sant Cugat", "latitude": 41.472, "longitude": 2.076, "address": "Carrer de Santa Rosa, 1, Sant Cugat del Vall√®s, 08172", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "76", "name": "Hospital Sant Camil", "latitude": 41.267, "longitude": 1.767, "address": "Rda. de Sant Camil, s/n, 08810 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "77", "name": "Residencia y Centro de D√≠a MUTUAM Jaume Nualart", "latitude": 41.354, "longitude": 2.066, "address": "Carrer de l'Anoia, 8, 14, 08940 Cornell√† de Llobregat, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "79", "name": "Hospital Universitario Quir√≥nsalud Madrid", "latitude": 40.441, "longitude": -3.813, "address": " C. Diego de Vel√°zquez, 1, 28223 Pozuelo de Alarc√≥n, Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "80", "name": "Hospital Quir√≥nsalud Sur", "latitude": 40.347, "longitude": -3.83, "address": "C. Estambul, 30, 28922 Alcorc√≥n, Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "81", "name": "Hospital Universitario La Luz - Quir√≥nsalud", "latitude": 40.443, "longitude": -3.705, "address": "C. del Maestro √Ångel Llorca, 8, Chamber√≠, 28003 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "85", "name": "Grupo Vivo Pio XII - Madrid", "latitude": 40.466, "longitude": -3.674, "address": " Cta. del Sagrado Coraz√≥n, 4, Chamart√≠n, 28016 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "96", "name": "Diaverum - Rotellar", "latitude": 41.427, "longitude": 2.184, "address": "Carrer de Concepci√≥n Arenal, 151, Sant Andreu, 08027 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "98", "name": " Centre Sociosanitari El Carme - Badalona", "latitude": 41.469, "longitude": 2.229, "address": "Cam√≠ de Sant Jeroni de la Murtra, 60, 08917 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "99", "name": "Hospital de Blanes", "latitude": 41.688, "longitude": 2.802, "address": "Carrer Acc√©s Cala Sant Francesc, 5, 17300 Blanes, Girona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "100", "name": "Hospital Ribera Povisa", "latitude": 42.224, "longitude": -8.72, "address": "R√∫a de Salamanca, 5, Freixeiro, 36211 Vigo, Pontevedra", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "101", "name": "Consorci Sanitari Integral", "latitude": 41.375, "longitude": 2.106, "address": "Av. Josep Molins, 29, 08906 L'Hospitalet de Llobregat, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "102", "name": "üö® Turno Urgente - Maresme ", "latitude": 41.538, "longitude": 2.445, "address": "Maresme", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "103", "name": "üö® Turno Urgente - Vall√®s", "latitude": 41.468, "longitude": 2.078, "address": "Vall√©s", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "105", "name": "Fundaci√≥n Hospitalarias Madrid- Hospital General", "latitude": 40.419, "longitude": -3.668, "address": "C. del Dr. Esquerdo, 83, Retiro, 28007 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "106", "name": "Hospital de Matar√≥", "latitude": 41.556, "longitude": 2.43, "address": "Consorcio Sanitario del Maresme - Hospital de Matar√≥", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "107", "name": "Hospital Juan Cardona", "latitude": 43.481, "longitude": -8.203, "address": "R√∫a Pardo Baz√°n, s/n, 15404 Ferrol, A Coru√±a", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "111", "name": "FMC Alcobendas", "latitude": 40.0, "longitude": -3.642, "address": " Av. de Camilo Jos√© Cela, 56, 28108 Alcobendas, Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "115", "name": " üö® Turno Urgente - Blanes", "latitude": 41.676, "longitude": 2.787, "address": "Blanes", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "117", "name": "Hospital Ribera Virgen de la Caridad", "latitude": 37.615, "longitude": -0.988, "address": "C. Jorge Juan, 30, 30204 Cartagena, Murcia", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "122", "name": "Parc Sanitari Pere Virgili", "latitude": 41.414, "longitude": 2.142, "address": "Carrer d'Esteve Terradas, 30, Gr√†cia, 08023 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "124", "name": "Hospital Ribera Covadonga", "latitude": 43.5301, "longitude": -5.64912, "address": "C. Gral. Su√°rez Vald√©s, 40, Gijon-Este, 33204 Gij√≥n, Asturias", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "128", "name": "Hestia Palau", "latitude": 41.413, "longitude": 2.174, "address": "Carrer de Sant Antoni Maria Claret, 135, Horta-Guinard√≥, 08025 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "130", "name": "Hestia Duran i Reynals", "latitude": 41.353, "longitude": 2.122, "address": "Avinguda de la Granvia de l‚ÄôHospitalet, 199, 08908 L'Hospitalet de Llobregat, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "131", "name": "CAP Nova Lloreda 8", "latitude": 41.451, "longitude": 2.233, "address": "Av. de Catalunya, 62, 64, 08917 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "132", "name": "CAP Progr√©s-Raval", "latitude": 41.45, "longitude": 2.245, "address": "Carrer del General Weyler, 44, 08912 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "135", "name": "CST - Hospital Terrassa", "latitude": 41.557, "longitude": 2.053, "address": "Carr. de Torrebonica, s/n, 08227 Terrassa, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "136", "name": "CAP Apenins-Montigal√†", "latitude": 41.45, "longitude": 2.247, "address": "Carrer Apenins, s/n, 08917 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "139", "name": "CAP Nova Lloreda 10", "latitude": 41.4497, "longitude": 2.22974, "address": "Av. de Catalunya, 62, 64, 08917 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "142", "name": "CAP Morera Pomar", "latitude": 41.449, "longitude": 2.232, "address": "Carrer de Pere III, 1, 08915 Badalona, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "144", "name": "Grupo Vivo - Cl√≠nica M√©dica Los Belgas", "latitude": 40.635, "longitude": -4.005, "address": "C. Pereda, 1-3, 28400 Collado Villalba, Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "147", "name": "Fresenius Sant Boi", "latitude": 41.331, "longitude": 2.041, "address": "Carretera Santa Creu de Calafell, 49A", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "148", "name": "Fresenius  Terrassa", "latitude": 41.55, "longitude": 2.022, "address": "Av. de Can Jofresa, 6, 08223 Terrassa, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "150", "name": "CMD SALUD CALIDAD INTEGRAL S.L.", "latitude": 41.328, "longitude": 2.125, "address": "Carreter E, Zona Franca, 40 Zona Franca- port Sants-Montju√Øc 08040", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "152", "name": "CQM Clinic Maresme SL", "latitude": 41.536, "longitude": 2.444, "address": "Carrer Lepanto 13-21, 08301 Matar√≥ ", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "153", "name": "Cl√≠nica L√≥pez Ibor", "latitude": 40.433, "longitude": -3.722, "address": "Calle del Dr. Juan Jos√© L√≥pez Ibor, 2, Moncloa - Aravaca, 28035 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "154", "name": "Residencia Bouco Aravaca", "latitude": 40.447, "longitude": -3.78, "address": "Av. del Talgo, 53, Moncloa - Aravaca, 28023 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "160", "name": "Clinica Diagonal", "latitude": 41.372, "longitude": 2.083, "address": "C/Sant Mateu 24-26", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "161", "name": "COLISEE Sant Jordi", "latitude": 41.428, "longitude": 2.144, "address": "Pg. de la Vall d'Hebron, 135, 145, Horta-Guinard√≥, 08035 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "162", "name": "COLISEE Valldoreix", "latitude": 41.465, "longitude": 2.066, "address": "Rambla Moss√®n Jacint Verdaguer, 199, 08197 Valldoreix, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "163", "name": "Fundaci√≥ Hospital√†ries Barcelona", "latitude": 41.429, "longitude": 2.146, "address": "PASSEIG VALL D'HEBRON 107-117", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "165", "name": "Hospital Ruber Juan Bravo 39", "latitude": 40.438, "longitude": -3.677, "address": " Calle de Juan Bravo, 39, Salamanca, 28006 Madrid", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "169", "name": "Institut Marqu√®s Obstetricia i Ginecolog√≠a S.L.P.", "latitude": 41.3888, "longitude": 2.15899, "address": "Avenida Diagonal, 662-664, 08034", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "171", "name": "Institut Catal√† de Retina S,L.", "latitude": 41.4032, "longitude": 2.126, "address": "Passeig Bonanova 22, 8022", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "179", "name": "PreverSalud Barcelona", "latitude": 41.387, "longitude": 2.701, "address": "Calle Por definir", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "180", "name": "Hospital de Figueres", "latitude": 42.265, "longitude": 2.964, "address": "Ronda del Rector Arolas, s/n, 17600 Figueres, Girona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "184", "name": "Resid√®ncia Bon Rep√≤s", "latitude": 41.404, "longitude": 2.164, "address": " Pg. de St. Joan, 156, Gr√†cia, 08037 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "185", "name": "Fresenius Barcelona Gl√≤ries", "latitude": 41.405, "longitude": 2.184, "address": "Carrer del Consell de Cent, 581, L'Eixample, 08013 Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "204", "name": "Hospital General De Granollers", "latitude": 41.6056, "longitude": 2.2975, "address": " Carrer de Francesc Ribas, s/n, 08402 Granollers, Barcelona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "210", "name": "Centre de Salut Granollers (CSG)", "latitude": 41.6097, "longitude": 2.287, "address": "Carrer de Girona, 5, 08402 Granollers Planta 1", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "212", "name": "Fresenius - Hospitalet", "latitude": 41.35974, "longitude": 2.10905, "address": "C/Rambla Marina, 429,", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "213", "name": "Fresenius Medical Care Granollers", "latitude": 41.608, "longitude": 2.286, "address": "Carrer de Manel Cornella 37, 08402 Granollers, Barcelona, Espa√±a", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "217", "name": "Centro Asistencial Solimat Getafe", "latitude": 40.304, "longitude": -3.694, "address": "Calle Irene Joliot Curie 2, 28906 Getafe", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "220", "name": "Diaverum Matar√≥", "latitude": 41.539, "longitude": 2.4445, "address": "Ronda dels Pa√Øsos Catalans, 47, 49 Interior, 08304 Matar√≥, Barcelona, Espa√±a", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}, {"id": "224", "name": "Centro en Blanes", "latitude": 41.675, "longitude": 2.779, "address": "Ctra. Malgrat 17300 Blanes, Girona", "city": "N/A", "specialization": [], "capacity": "N/A", "phone": "N/A", "type": "Healthcare Facility"}];
        
        // Global variables
        let map;
        let allMarkers = [];
        
        // Initialize map
        function initMap() {
            map = L.map('map').setView([40.4, -3.7], 6);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);
            
            // Load all facilities
            loadAllFacilities();
        }
        
        function loadAllFacilities() {
            // Group facilities by location to handle multiple facilities at same coordinates
            const facilitiesGrouped = {};
            facilitiesData.forEach(fac => {
                const key = fac.latitude.toFixed(4) + ',' + fac.longitude.toFixed(4);
                if (!facilitiesGrouped[key]) facilitiesGrouped[key] = [];
                facilitiesGrouped[key].push(fac);
            });
            
            // Add facility markers
            Object.entries(facilitiesGrouped).forEach(([key, facs]) => {
                const [lat, lon] = key.split(',').map(Number);
                
                // Create hospital emoji marker or company logo marker
                const hospitalIcon = L.divIcon({
                    className: 'facility-marker',
                    html: '<img src="logo.png" style="width:22px;height:22px;" alt="Company Logo"/>',
                    iconSize: [32, 32],
                    iconAnchor: [16, 16],
                    popupAnchor: [0, -20]
                });
                
                // Create popup content
                let popupContent = '<div class="facility-popup">';
                if (facs.length === 1) {
                    const fac = facs[0];
                    popupContent += '<h4 class="facility-header">' + fac.name + '</h4>';
                    popupContent += '<div class="facility-item">';
                    popupContent += '<div class="facility-info">';
                    popupContent += '<strong>ID:</strong> ' + fac.id + '<br>';
                    popupContent += '<strong>City:</strong> ' + fac.city + '<br>';
                    if (fac.address !== 'N/A') {
                        popupContent += '<strong>Address:</strong> ' + fac.address + '<br>';
                    }
                    if (fac.phone !== 'N/A') {
                        popupContent += '<strong>Phone:</strong> ' + fac.phone + '<br>';
                    }
                    if (fac.capacity !== 'N/A') {
                        popupContent += '<strong>Capacity:</strong> ' + fac.capacity + '<br>';
                    }
                    if (fac.specialization.length > 0) {
                        popupContent += '<strong>Specializations:</strong> ' + fac.specialization.join(', ');
                    }
                    popupContent += '</div></div>';
                } else {
                    popupContent += '<h4 class="facility-header">' + facs.length + ' Facilities at this Location</h4>';
                    popupContent += '<div class="facility-details">';
                    
                    facs.forEach((fac, i) => {
                        popupContent += '<div class="facility-item">';
                        popupContent += '<div class="facility-name">' + fac.name + '</div>';
                        popupContent += '<div class="facility-info">';
                        popupContent += '<strong>ID:</strong> ' + fac.id + ' | <strong>City:</strong> ' + fac.city + '<br>';
                        if (fac.address !== 'N/A') {
                            popupContent += '<strong>Address:</strong> ' + fac.address + '<br>';
                        }
                        if (fac.phone !== 'N/A') {
                            popupContent += '<strong>Phone:</strong> ' + fac.phone + '<br>';
                        }
                        if (fac.specialization.length > 0) {
                            popupContent += '<strong>Specializations:</strong> ' + fac.specialization.join(', ');
                        }
                        popupContent += '</div></div>';
                    });
                    
                    popupContent += '</div>';
                }
                popupContent += '</div>';
                
                // Create marker with hospital icon
                const marker = L.marker([lat, lon], {
                    icon: hospitalIcon
                }).bindPopup(popupContent);
                
                marker.addTo(map);
                allMarkers.push(marker);
            });
            
            // Fit map to show all facilities
            if (allMarkers.length > 0) {
                const group = new L.featureGroup(allMarkers);
                map.fitBounds(group.getBounds().pad(0.1));
            }
        }
        
        // Initialize map when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initMap();
        });
    </script>
</body>
</html>
    